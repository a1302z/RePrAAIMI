defaults:
  - base_config
  - _self_
project: mimic-DP
general:
  log_wandb: True
  parallel: False
  eval_train: False
dataset: 
  task: classification
  name: mimic
  root: /home/moritz/data/mimic-cxr-jpg-224/
  has_group_attributes: True
metrics:
  main: 
    accuracy_score: 
  logging:
    classification_report:
      output_dict: True
      zero_division: 0
    class_accuracy_score:
loader: 
  num_workers: 16
  prefetch_factor: 12
  collate_fn: numpy
# augmentations:
#   consecutive_augmentations:
#     multiplicity: 1
#     consecutive_augmentations:
#       random_img_shift:
#         max_shift: 4
#       random_vertical_flips:
#         flip_prob: 0.5
model:
  name: resnet9
  in_channels: 1
  num_classes: 3
  conv: convws_nw
  activation: mish
  normalization: gn
  pooling: avgpool
  ensemble: 1
  extra_args:
    scale_norm: True
optim:
  name: nadam
loss: 
  type: cse
  reduction: mean
ema:
  use_ema: False
  decay: 0.001
hyperparams:
  epochs: 25
  batch_size: 64
  batch_size_test: 512
  lr: 1e-3
  eval_every_n: 1_000
  #l2regularization: 1e-4
scheduler:
  type: reduceonplateau
  normalize_lr: False
  patience: 5
  min_delta: 0.01
  factor: 0.5
DP:
  epsilon: 2
  max_per_sample_grad_norm: 2.0
  delta: 9e-6
  #clip_only: True
  grad_acc_steps: 6
 
